<mvc:View controllerName="com.pontual.sgmr.controller.AssociarFormulario"
    height="100%"
    xmlns:mvc="sap.ui.core.mvc" 
	xmlns:core="sap.ui.core"       
    displayBlock="true"
    xmlns="sap.m">
    <Page id="pageInicio" 
          title="{i18n>title}" 
          titleAlignment="Center"
          showNavButton="true"   
          navButtonPress="onNavBack"       
          class="sapUiContentPadding sapUiResponsivePadding--header sapUiResponsivePadding--subHeader sapUiResponsivePadding--content sapUiResponsivePadding--footer">
        <headerContent>
        <Button
				tooltip="{i18n>sincronizar}"
				icon="sap-icon://synchronize"
				press="onSincronizar"
                type="Emphasized"/>
            <ObjectStatus
                id="networkStatus"
                active="false"
                inverted="true"
                icon="{path: 'conexaoModel>statusConexao',
                    formatter: 'com.pontual.sgmr.model.formatter.getIconeConexao'}"
                state="{path: 'conexaoModel>statusConexao',
                        formatter: 'com.pontual.sgmr.model.formatter.getCorIconeConexao'}"
            />
        </headerContent>            
		<content>               
                    <Table id="idListaMaterialRodanteTable" 
                            alternateRowColors="true"
                            autoPopinMode="false" 
                            contextualWidth="Auto"		
                            growing="true" 
                            growingThreshold="100" 
                            paste="onPaste" 
                    items="{listaMaterialRodanteModel>/}">
                        <headerToolbar>
                            <OverflowToolbar id="otbSubheader">
                                <Title text="Material Rodante" level="H2" />
                                <ToolbarSpacer />
                                <SearchField id="searchOrdem" search="onSearchOrdem" width="50%" placeholder="Pesquisa" />	   
                            </OverflowToolbar>
                        </headerToolbar>
                        <columns>
                            <Column hAlign="Begin" minScreenWidth="Phone" demandPopin="true" width="50%">
                                <Text text="Equipamento" />
                            </Column>
                            <Column hAlign="Center" vAlign="Middle" minScreenWidth="Tablet" demandPopin="true" width="12.5%">
                                <Text text="FormulÃ¡rio" />
                            </Column>								
                        </columns>
                        <items>
                            <ColumnListItem vAlign="Middle" navigated="false" type="Inactive" press="onMaterialRodantePress">
                                <cells>
                                    <ObjectIdentifier title="{listaMaterialRodanteModel>Codigo}" text="{listaMaterialRodanteModel>DescrMaterialRodante}"/>
                                    <ComboBox
                                        items="{
                                            path: 'formularioModel>/',
                                            sorter: { path: 'key' }
                                        }">
                                        <core:Item key="{formularioModel>key}" text="{formularioModel>key}" />
                                    </ComboBox>		                                        
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
		</content>
		<footer>
			<OverflowToolbar>
				<Button id="messagePopoverBtn"
					visible="{=!!${message>/}.length}"
					icon="{ path: '/', formatter: '.buttonIconFormatter' }"
					type="{ path: '/', formatter: '.buttonTypeFormatter' }"
					text= "{path: '/', formatter: '.highestSeverityMessages' }"
					press=".handleMessagePopoverPress"
					ariaHasPopup="Dialog"/>                      
				<ToolbarSpacer/>
                <Button id="confirmarUsuarioButton" text="{i18n>confirmar}" type="Success" press="onConfirmarUsuario" icon="sap-icon://save" enabled="{layoutTelaModel>HabilitarTelaCriarUsuario}"	></Button>
                <Button id="cancelarUsuarioButton" text="{i18n>cancelar}" type="Reject" press="onCancelarUsuario" icon="sap-icon://cancel" enabled="{layoutTelaModel>HabilitarTelaCriarUsuario}"	></Button>   
			</OverflowToolbar>
		</footer>
    </Page>
</mvc:View>
